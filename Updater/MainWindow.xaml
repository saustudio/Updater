<Window
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="clr-namespace:Updater"
    xmlns:utillsClasses="clr-namespace:Updater.UtillsClasses"
    xmlns:tb="http://www.hardcodet.net/taskbar"
    xmlns:Controls="clr-namespace:Updater.Controls" x:Class="Updater.MainWindow"
    mc:Ignorable="d"
    d:DataContext="{d:DesignInstance {x:Type local:MainWindow}}"
    Title="Dispel" Height="791" Width="1374" AllowsTransparency="True" WindowStyle="None" Background="{x:Null}"
    ContentRendered="Window_ContentRendered" WindowStartupLocation="CenterScreen" Icon="Pictures/logo.ico">
    <Window.Resources>
        <utillsClasses:InverseBooleanConverter x:Key="InverseBooleanConverter" />

    </Window.Resources>
    <Window.Triggers>
        <EventTrigger RoutedEvent="FrameworkElement.Loaded">
            <BeginStoryboard Storyboard="{StaticResource OpenAnimation}" />
        </EventTrigger>
    </Window.Triggers>
    <Grid x:Name="grid" MouseDown="Grid_MouseDown" Width="1374" Height="791">
        <Rectangle x:Name="BackGround" Width="800" Height="461" Cursor="">
            <Rectangle.Fill>
                <ImageBrush ImageSource="Pictures/background.png" />
            </Rectangle.Fill>
        </Rectangle>
        <Button x:Name="QuickCheck" Command="{Binding QuickCommand}" Content="Быстрая проверка"
                HorizontalAlignment="Left" Margin="650,346,0,0" VerticalAlignment="Top" Width="179" Cursor="Hand"
                Height="42" Template="{DynamicResource ButtonTemplate}" FontSize="18.667" Visibility="Hidden" />
        <Button x:Name="Tray" Command="{Binding TrayCommand}" Content="Tray" HorizontalAlignment="Left"
                Margin="1024,187,0,0" VerticalAlignment="Top" Width="20" Cursor="Hand" Height="18"
                Template="{DynamicResource TrayExitTemplate}" Background="Transparent" />
        <Button x:Name="Exit" Command="{Binding ExitCommand}" Content="Exit" HorizontalAlignment="Left"
                Margin="1044,187,0,0" VerticalAlignment="Top" Width="20" Cursor="Hand" Height="18"
                Template="{DynamicResource TrayExitTemplate}" Background="Transparent" />

        <ProgressBar x:Name="FileProgress" Value="{Binding ProgressFile}" Maximum="{Binding MaxProgressFile}"
                     HorizontalAlignment="Left" Height="8" Margin="55,684,0,0" VerticalAlignment="Top" Width="1009"
                     Background="{x:Null}" BorderBrush="{x:Null}" RenderTransformOrigin="0.5,0.5" SmallChange="0"
                     Visibility="Hidden">
            <ProgressBar.Foreground>
                <ImageBrush ImageSource="Pictures/progressFile.png" />
            </ProgressBar.Foreground>
            <ProgressBar.RenderTransform>
                <TransformGroup>
                    <ScaleTransform />
                    <SkewTransform AngleX="0.512" />
                    <RotateTransform />
                    <TranslateTransform X="-0.054" />
                </TransformGroup>
            </ProgressBar.RenderTransform>
        </ProgressBar>
        <ProgressBar x:Name="FullProgress" Value="{Binding ProgressFull}" Maximum="{Binding MaxProgressFull}"
                     HorizontalAlignment="Left" Height="6" Margin="325,580,0,0" VerticalAlignment="Top" Width="721"
                     BorderBrush="{x:Null}" Background="{x:Null}">
            <ProgressBar.Foreground>
                <ImageBrush ImageSource="Pictures/progressFull.png" />
            </ProgressBar.Foreground>
        </ProgressBar>
        <Button x:Name="Cancel" Command="{Binding CancelCommand}" Content="Отмена" Margin="1026.167,662,0,0"
                VerticalAlignment="Top" Cursor="Hand" Template="{DynamicResource PictureInsideButtonTemplate}"
                Height="38" FontSize="18" Width="38" HorizontalAlignment="Left" Visibility="Hidden">
            <Button.Background>
                <ImageBrush ImageSource="Pictures/cancel.png" />
            </Button.Background>
        </Button>
        <Menu Foreground="WhiteSmoke" Background="Transparent" FontWeight="Medium" Margin="845,188,387,553"
              Height="50">
            <MenuItem Header="{Binding LoginInfo.Login}" Style="{StaticResource AccountItemMenu}" Height="25" BorderBrush="#3478BFF7" >
                <MenuItem Header="Личные данные" Template="{StaticResource LoginMenu}" Command="{Binding Command1}" />
                <MenuItem Header="Безопасность" Template="{StaticResource LoginMenu}" Command="{Binding Command2}" />
                <MenuItem Header="История и активность" Template="{StaticResource LoginMenu}"
                          Command="{Binding Command3}" />
                <MenuItem Header="Правила" Template="{StaticResource LoginMenu}" Command="{Binding Command4}" />
                <MenuItem Header="Промокоды" Template="{StaticResource LoginMenu}" Command="{Binding Command5}" />
                <MenuItem Header="Сменить аккаунт" Template="{StaticResource LoginMenu}" Command="{Binding Command6}" />
            </MenuItem>
        </Menu>

        <Grid HorizontalAlignment="Left" Height="180" Width="350" Margin="335,105,0,0">
            <Grid.RowDefinitions>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
            </Grid.RowDefinitions>
            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition></ColumnDefinition>
                    <ColumnDefinition></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Controls:ButtonImage Grid.Column="0"
                                      Title="{Binding GoldCaseButton.Title}"
                                      Description="{Binding GoldCaseButton.Description}"
                                      Source="Pictures/GoldCase.png"
                                      Content="{Binding GoldCaseButton.ButtonText}"
                                      Stretch="None" MyCommand="{Binding GoldCase }" />
                <Controls:ButtonImage Margin="1.5" Grid.Column="1"
                                      Title="{Binding DeveloperNodesButton.Title}"
                                      Description="{Binding DeveloperNodesButton.Description}"
                                      Source="Pictures/NodesDev.png"
                                      Stretch="None"
                                      VerticalAlignment="Stretch"
                                      Content="{Binding DeveloperNodesButton.ButtonText}"
                                      HorizontalAlignment="Stretch" MyCommand="{Binding NodesDeveloper }" />

            </Grid>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition></ColumnDefinition>
                    <ColumnDefinition></ColumnDefinition>
                    <ColumnDefinition></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Controls:ButtonImage Margin="1.5" Grid.Column="0"
                                      Title="{Binding RatingButton.Title}"
                                      Description="{Binding RatingButton.Description}"
                                      Source="Pictures/RatingTop.png"
                                      Stretch="None"
                                      VerticalAlignment="Stretch"
                                      Content="{Binding RatingButton.ButtonText}"                                 
                                      HorizontalAlignment="Stretch" MyCommand="{Binding Rating }" />
                <Controls:ButtonImage Margin="1.5" Grid.Column="1"
                                      Title="{Binding BaseKnowlageButton.Title}"
                                      Description="{Binding BaseKnowlageButton.Description}"
                                      Source="Pictures/Base.png"
                                      Stretch="None"
                                      Content="{Binding BaseKnowlageButton.ButtonText}"
                                      VerticalAlignment="Stretch"
                                      HorizontalAlignment="Stretch" MyCommand="{Binding BaseKnowlage }" />
                <Controls:ButtonImage Margin="1.5" Grid.Column="2"
                                      Title="{Binding EventButton.Title}"
                                      Description="{Binding EventButton.Description}"
                                      Source="Pictures/Events.png"
                                      Content="{Binding EventButton.ButtonText}"
                                      Stretch="None"
                                      VerticalAlignment="Stretch"
                                      HorizontalAlignment="Stretch" MyCommand="{Binding Event }" />
            </Grid>
        </Grid>


        <TextBlock TextAlignment="Left" x:Name="ProcFile" HorizontalAlignment="Left" Margin="60,534,0,0"
                   VerticalAlignment="Top" Height="24" Width="30" />
        <Label x:Name="Download_Information" HorizontalContentAlignment="Left"
               Content="{Binding DownloadInfo.GetLocStr}" HorizontalAlignment="Left" Margin="61.25,710,0,0"
               VerticalAlignment="Top" Height="24" Width="415" FontFamily="Raleway" Foreground="#FFDAD5BB"
               FontWeight="Medium" FontSize="10" Visibility="Hidden" />
        <TextBlock x:Name="LoginLabel" Text="{Binding LoginInfo.Login}" TextAlignment="Left" Margin="350,285,0,485"
                   Foreground="#FFF4F4F4" FontFamily="Arial" FontSize="14" FontWeight="Light"
                   HorizontalAlignment="Left" Width="326" />
        <TextBlock x:Name="CoinLabel" Text="{Binding LoginInfo.Balance}" TextAlignment="Left" Margin="350,325,0,445" Foreground="#FFF4F4F4"
                   FontFamily="Arial" FontSize="14" FontWeight="Light" HorizontalAlignment="Left" Width="126" />
        <ComboBox HorizontalAlignment="Left" FontFamily="Leelawadee UI Semilight"
                  ItemsSource="{Binding Localizations.Languages}"
                  SelectedItem="{Binding Localizations.SelectedLanguage}" Margin="325,197,0,0" VerticalAlignment="Top"
                  Width="114" Style="{DynamicResource ComboBoxFlatStyle}" Height="24" Foreground="White"
                  Background="#FF13202D" BorderBrush="#3478BFF7" />
        <StackPanel HorizontalAlignment="Left" Height="26" Margin="455,197,0,0" VerticalAlignment="Top" Width="390"
                    Orientation="Horizontal">
            <Button x:Name="Site" Content="Официальный сайт" HorizontalAlignment="Left" VerticalAlignment="Top"
                    Width="132" Template="{DynamicResource LinkButton2}" Height="26" Foreground="#FFDED6D6"
                    Cursor="Hand" Click="Site_Click" Margin="0,2,0,-1.6" />
            <Button x:Name="Support" Content="Поддержка" HorizontalAlignment="Left" Width="132"
                    Template="{DynamicResource LinkButton2}" Foreground="#FFDED6D6" Cursor="Hand" Click="Support_Click"
                    Margin="0,2,0,-1.6" />
        </StackPanel>
        <Button x:Name="DonateButton" Content="Пополнить" HorizontalAlignment="Left" Height="30" Margin="566,311,0,0"
                VerticalAlignment="Top" Width="110" Template="{DynamicResource DonateButtonTemplate}" FontSize="24"
                Cursor="Hand" Click="DonateButton_Click" />
        <StackPanel HorizontalAlignment="Left" Height="26" Margin="327,547,0,0" VerticalAlignment="Top" Width="714"
                    Orientation="Horizontal">
            <Label x:Name="Information" Content="{Binding Info.GetLocStr}" HorizontalContentAlignment="Left"
                   HorizontalAlignment="Left" Margin="0,-2,0,-2.6" VerticalAlignment="Top" Height="31" Width="436"
                   FontFamily="Arial" Foreground="#FFF4F4F4" FontWeight="Light" FontSize="10" />
            <Label HorizontalContentAlignment="Left" x:Name="ProcFull" Content="{Binding FullProc}"
                   Foreground="#FFF4F4F4" FontFamily="Arial" />
            <Label HorizontalContentAlignment="Right" Content="{Binding DownloadBytes}" x:Name="Size"
                   Foreground="#FFF4F4F4" FontFamily="Arial" Margin="0,0,0,0.4" />
            <Label HorizontalContentAlignment="Right" Content="{Binding DownloadSpeed}" x:Name="Speed"
                   HorizontalAlignment="Left" VerticalAlignment="Top" Width="104" Foreground="#FFF4F4F4"
                   FontFamily="Philosopher" Visibility="Hidden" />
        </StackPanel>
        <Button x:Name="SettingsButton" Command="{Binding SettingsCommand}" Content="Tray" HorizontalAlignment="Left"
                Margin="996,187,0,0" VerticalAlignment="Top" Width="20" Cursor="Hand" Height="18"
                Template="{DynamicResource TrayExitTemplate}" Background="Transparent" />
        <Button x:Name="StartButton" Command="{Binding StartCommand}" Content="Начать игру" HorizontalAlignment="Left"
                Margin="690,499,0,0" VerticalAlignment="Top" Width="180"
                Template="{DynamicResource LoginButtonTemlate}" Height="38" Cursor="Hand" />
        <Button x:Name="FullCheck" Command="{Binding FullCommand}" Content="Полная проверка" HorizontalAlignment="Left"
                Margin="880,499,0,0" VerticalAlignment="Top" Width="180" Template="{DynamicResource RegButton}"
                Height="38" Cursor="Hand" />
    </Grid>
</Window>